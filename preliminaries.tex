\section{Preliminaries}
\label{sec:preliminaries}


A (discrete) \emph{probability distribution} $\mu$ over a denumerable
set $S$ is a function $\mu: S \rightarrow [0, 1] $ such that
$\mu(S) = \sum_{s \in S} \mu(s) = 1$.  Let $\Dist(S)$ denote the set
of all probability distributions on $S$.  $\Dirac_s \in \Dist(S)$
denotes the Dirac distribution for $s \in S$, i.e., $\Dirac_s(s) =1$
and $\Dirac_s(s') = 0$ for all $s' \in S$ such that $s'\neq s$.
%% The
%% \textit{support} set of $\mu$ is defined by
%% $\support{\mu} = \{s \mid {\mu(s) > 0}\}$.

Let $\Prop$ be a countable set of propositional symbols.
%
A \emph{probabilistic labeled transition System (PLTS)} is a tuple
$\model=\tup{\S,\Act,\ra,\V}$ where $\S$ is a finite set of
\emph{states}, $\Act$ is a finite set of \emph{actions},
${\ra}\subseteq {\S \times \Act \times \Dist(\S)}$ is the
\emph{(probabilistic) transition relation}, and
$\V:\S\to\powerset(\Prop)$ is the \emph{valuation function}.
%
We denote $s\reach{a}\mu$ whenever $(s,a,\mu)\in{\ra}$ and let
$T(s)=\{(a,\mu)\mid {s\reach{a}\mu}\}$ be the set of all transitions
enabled in state $s$.
%
For the case in which, for all $(s,a,\mu)\in{\ra}$, $\mu$ is a Dirac
distribution $\Dirac_{s'}$ for some $s'\in\S$, we say that $\model$ is
a \emph{labeled transition system (LTS)} and denote $s\reach{a}s'$
instead of $s\reach{a}\Dirac_{s'}$.
\pedro{hay que ver si queda esta definicion de LTS}

An \emph{execution} of $\model$ is a finite or infinite alternating
sequence of states and actions $s_0\, a_1\, s_1\, a_2\, s_2\ldots$.
$\execf= \S\times(\Act\times\S)^*$ denotes the set of all
\emph{finite executions} and $\execw= \S\times(\Act\times\S)^\omega$
denotes the set of all \emph{infinite executions}.
%
We introduce the symbol $\complete$ to indicate that a finite
execution has been intentionally ended and let $\cexecf=
\S\times(\Act\times\S)^*\times\{\complete\}$ denote the set of all
\emph{complete finite executions}.  Infinite executions are also
considered complete and hence $\cexec=\cexecf\cup\execw$ is the
set of all \emph{complete executions}.

For $\rho = s_0\, a_1\, s_1\ldots s_{n-1}\, a_n\, s_n \in \execf$ and
$0\leq k\leq n$, let $|\rho|=n$ and let
$\rho[..k] = s_0\, a_1\, s_1\ldots s_{k-1}\, a_k\, s_k$ be the $k$-th
prefix of $\rho$.
%
Similarly, we can define $\rho[..k]$ for $\rho\in\cexec$.
In particular, notice that $\rho[..0]=s_0$.
%
$\rho \in \execf\cup\cexecf$ is a \emph{prefix} of $\rho' \in \cexec$,
denoted by $\rho\leq\rho'$, if $\rho=\rho'[..|\rho|]$ or $\rho=\rho'$
(this last case is needed if $\rho\in\cexecf$).

A \emph{strategy} for a PLTS $\model$ is a function $\strat:
\execf \to \Dist((\Act\times\Dist(S))\cup\{\complete\})$ that assigns
a discrete probability distribution to each finite (non-complete)
execution $\rho\in\execf$ such that $\strat(\rho)(a,\mu) > 0$ only
if $\last(\rho)\reach{a}\mu$.  Thus, a strategy can choose with some
probability a valid transition after $\rho$ or to intentionally
terminate (in case $\strat(\rho)(\complete)>0$).

Let $\Cyl(\rho)=\{\rho'\in\cexec\mid{\rho\leq\rho'}\}$ be the
\emph{cylynder set} induced by the finite execution
$\rho\in\execf\cup\cexecf$.  Notice that we only consider cylinders of
complete executions and in particular $\Cyl(\rho)=\{\rho\}$ whenever
$\rho\in\cexecf$.
%
A strategy $\strat$ and a state $s\in\S$ define a probability
measure $\Prob^\strat_s$ on the Borel sigma algebra generated by the
set of all cylinder sets as follows.
%
For $\rho = s_0\, a_1\, s_1\ldots s_{n-1}\, a_n\, s_n \in \execf$,
%
\begin{align*}
  &\Prob^\strat_s(\Cyl(\rho)) =\\
  &\quad \Dirac_{s_0}\cdot\prod\limits_{i=1}^n\sum\limits_{(a_i,\mu)\in T(s_{i-1})}\strat(\rho[..(i{-}1)])(a_i,\mu)\cdot\mu(s_i)
\end{align*}
%
and for
$\rho = s_0\, a_1\, s_1\ldots s_{n-1}\, a_n\, s_n\, \complete \in \cexecf$,
%
\begin{align*}
  &\Prob^\strat_s(\Cyl(\rho)) =\\
  &\quad \Dirac_{s_0}\cdot\left(\prod\limits_{i=1}^n\sum\limits_{(a_i,\mu)\in T(s_{i-1})}\strat(\rho[..(i{-}1)])(a_i,\mu)\cdot\mu(s_i)\right)\\
  &\phantom{\quad \Dirac_{s_0}} \cdot\strat(\rho[..n])(\complete).
\end{align*}
%
Charathedeory's extension theorem guarantees that $\Prob^\strat_s$ is
uniquely defined in the sigma algebra~\cite{Segala95}.











\bigskip

Some definitions to be added here:

\begin{itemize}
    \item probability distributions over $\S$: $\Dist(\S)$ \textcolor{green}{$\surd$}
    \item probability $\Prob$  \textcolor{green}{$\surd$}
    \item the infimum $\infim$  \textcolor{orange}{[en realidad no es $\inf$ lo que hay que definir, sino lo que est\'a adentro y lo defino m\'as adelante]}
      \pedro{BTW: por qu\'e definiste $\infim$ si ya existe $\inf$?}
    \item prefix and set of prefixes $\pref$ \textcolor{orange}{[solo para ejecuciones, pero falta todo lo de lenguaje]}
    \item \textcolor{red}{To be added:}
      Given $\rho = s_0\, a_1\, s_1\ldots s_{n-1}\, a_n\, s_n \in \execf$,
      let $\bar{\rho} = a_1\, a_2\ldots a_n$.
      In particular $\bar{\rho} = \epsilon$ whenever $n=0$.

\end{itemize}

